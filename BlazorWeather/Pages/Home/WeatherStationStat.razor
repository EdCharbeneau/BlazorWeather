@inject DisplayHelper DH

<div class="stat-box" @onclick="SwitchStat">
    @switch (stat)
    {
        case WeatherStat.WindSpeed:
            <svg class="w-10 absolute top-4 right-4" viewBox="0 0 43 37" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.1598 18.499H1.34369C0.604661 18.499 0 19.0937 0 19.8205V22.4637C0 23.1906 0.604661 23.7853 1.34369 23.7853H13.2858C14.621 23.7853 15.8724 24.6856 16.0907 25.9824C16.3678 27.6344 15.0745 29.0716 13.4369 29.0716C12.2528 29.0716 11.245 28.3117 10.8839 27.2627C10.7075 26.7423 10.1617 26.4284 9.6074 26.4284H6.85283C6.02982 26.4284 5.36637 27.1553 5.51753 27.9482C6.23977 31.5908 9.51502 34.3579 13.4285 34.3579C18.2238 34.3579 22.0533 30.2197 21.4235 25.3877C20.9112 21.3899 17.2496 18.499 13.1598 18.499ZM1.34369 15.8558H29.5612C34.5749 15.8558 38.5304 11.3294 37.4386 6.21653C36.8004 3.22646 34.3397 0.806321 31.2996 0.178571C26.6471 -0.779574 22.4732 2.23528 21.6502 6.41477C21.4907 7.20772 22.1625 7.92633 22.9771 7.92633H25.7317C26.2944 7.92633 26.8318 7.61245 27.0082 7.09208C27.3693 6.04308 28.3771 5.28317 29.5612 5.28317C31.1904 5.28317 32.4921 6.72039 32.215 8.37236C31.9967 9.66916 30.7537 10.5695 29.4101 10.5695H1.34369C0.604661 10.5695 0 11.1642 0 11.8911V14.5342C0 15.2611 0.604661 15.8558 1.34369 15.8558ZM33.5923 18.499H20.4661C22.0869 19.8701 23.2543 21.7038 23.8085 23.7853H33.5923C35.8178 23.7853 37.6234 25.5611 37.6234 27.75C37.6234 29.9389 35.8178 31.7147 33.5923 31.7147C32.089 31.7147 30.7957 30.897 30.0987 29.6993C29.8552 29.2863 29.3681 29.0716 28.881 29.0716H26.0424C25.127 29.0716 24.4468 29.9637 24.7575 30.8144C26.2524 34.9939 30.6782 37.8188 35.6246 36.7863C39.0846 36.0677 41.9316 33.3502 42.7378 29.9554C44.1739 23.9092 39.5129 18.499 33.5923 18.499Z" fill="url(#paint0_linear)"/><defs><linearGradient id="paint0_linear" x1="7.34285" y1="6.68938" x2="28.6756" y2="29.93" gradientUnits="userSpaceOnUse"><stop offset="0.10243" stop-color="#28C2D1"/><stop offset="0.925347" stop-color="#4931DE"/></linearGradient></defs></svg>
            <div class="mt-auto mb-1 text-xl">
                <span class="text-4xl">@DH.ConvertSpeed(WeatherStation.CurrentWeather.WindSpeed)</span> @DH.SpeedUnit()
            </div>
            break;
        case WeatherStat.Temperature:
            <svg class="w-10 absolute top-4 right-4" viewBox="-5 0 20 40" fill="none"><path d="M5 13.8672C5.18229 13.9323 5.35156 14.0234 5.50781 14.1406C5.66406 14.2578 5.79427 14.3945 5.89844 14.5508C6.00911 14.7005 6.09375 14.8698 6.15234 15.0586C6.21745 15.2409 6.25 15.4297 6.25 15.625C6.25 15.8854 6.20117 16.1296 6.10352 16.3574C6.00586 16.5853 5.8724 16.7839 5.70312 16.9531C5.53385 17.1224 5.33529 17.2559 5.10742 17.3535C4.87956 17.4512 4.63542 17.5 4.375 17.5C4.11458 17.5 3.87044 17.4512 3.64258 17.3535C3.41471 17.2559 3.21615 17.1224 3.04688 16.9531C2.8776 16.7839 2.74414 16.5853 2.64648 16.3574C2.54883 16.1296 2.5 15.8854 2.5 15.625C2.5 15.4297 2.5293 15.2409 2.58789 15.0586C2.65299 14.8698 2.73763 14.7005 2.8418 14.5508C2.95247 14.3945 3.08268 14.2578 3.23242 14.1406C3.38867 14.0234 3.5612 13.9323 3.75 13.8672V7.5H5V13.8672ZM7.5 12.8809C7.87109 13.291 8.16081 13.7467 8.36914 14.248C8.57747 14.7493 8.68164 15.2767 8.68164 15.8301C8.68164 16.416 8.56445 16.9629 8.33008 17.4707C8.10221 17.9785 7.78971 18.4212 7.39258 18.7988C6.99544 19.1699 6.53646 19.4629 6.01562 19.6777C5.49479 19.8926 4.94792 20 4.375 20C3.79557 20 3.24544 19.8926 2.72461 19.6777C2.21029 19.4629 1.75456 19.1699 1.35742 18.7988C0.960286 18.4212 0.644531 17.9785 0.410156 17.4707C0.182292 16.9629 0.0683594 16.416 0.0683594 15.8301C0.0683594 15.2767 0.172526 14.7493 0.380859 14.248C0.589193 13.7467 0.878906 13.291 1.25 12.8809V3.125C1.25 2.69531 1.33138 2.29167 1.49414 1.91406C1.6569 1.53646 1.87826 1.20768 2.1582 0.927734C2.44466 0.641276 2.77669 0.416667 3.1543 0.253906C3.53841 0.0846354 3.94531 0 4.375 0C4.80469 0 5.20833 0.0846354 5.58594 0.253906C5.96354 0.416667 6.29232 0.641276 6.57227 0.927734C6.85872 1.20768 7.08333 1.53646 7.24609 1.91406C7.41536 2.29167 7.5 2.69531 7.5 3.125V12.8809ZM4.375 18.75C4.77865 18.75 5.16276 18.6751 5.52734 18.5254C5.89844 18.3757 6.22396 18.1706 6.50391 17.9102C6.78385 17.6497 7.00521 17.3405 7.16797 16.9824C7.33724 16.6243 7.42188 16.2402 7.42188 15.8301C7.42188 15.3418 7.31445 14.8958 7.09961 14.4922C6.88477 14.082 6.60156 13.7142 6.25 13.3887V3.125C6.25 2.86458 6.20117 2.62044 6.10352 2.39258C6.00586 2.16471 5.8724 1.96615 5.70312 1.79688C5.53385 1.6276 5.33529 1.49414 5.10742 1.39648C4.87956 1.29883 4.63542 1.25 4.375 1.25C4.11458 1.25 3.87044 1.29883 3.64258 1.39648C3.41471 1.49414 3.21615 1.6276 3.04688 1.79688C2.8776 1.96615 2.74414 2.16471 2.64648 2.39258C2.54883 2.62044 2.5 2.86458 2.5 3.125V13.3887C2.14844 13.7142 1.86523 14.082 1.65039 14.4922C1.43555 14.8958 1.32812 15.3418 1.32812 15.8301C1.32812 16.2402 1.40951 16.6243 1.57227 16.9824C1.74154 17.3405 1.96615 17.6497 2.24609 17.9102C2.52604 18.1706 2.84831 18.3757 3.21289 18.5254C3.58398 18.6751 3.97135 18.75 4.375 18.75Z"fill="url(#paint0_linear)"/><defs><linearGradient id="paint0_linear" x1="6.14752" y1="6.50858" x2="26.9365" y2="25.9966" gradientUnits="userSpaceOnUse"><stop offset="0.10243" stop-color="#28C2D1"/><stop offset="0.925347" stop-color="#4931DE"/></linearGradient></defs></svg>
            <div class="mt-auto mb-1 text-xl">
                <span class="text-4xl">@DH.Convert(WeatherStation.CurrentWeather.Temperature).Value</span> ˚@DH.TempUnit()
            </div>
            break;
        case WeatherStat.RelativeHumidity:
            <svg class="w-10 absolute top-4 right-4" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M35.98 17.7814C35.2574 13.7685 33.2285 10.1071 30.209 7.36691C27.1896 4.62674 23.349 2.96158 19.285 2.63057V0H16.7136V2.63057C12.6496 2.96158 8.80905 4.62674 5.78961 7.36691C2.77017 10.1071 0.741244 13.7685 0.0186075 17.7814C-0.023005 18.0234 0.00551215 18.2721 0.100789 18.4984C0.196066 18.7246 0.354119 18.9189 0.556269 19.0581C0.758419 19.1974 0.996215 19.2759 1.24155 19.2843C1.48689 19.2928 1.72952 19.2308 1.94075 19.1057C2.88559 18.4491 3.99353 18.0665 5.14218 18C6.23392 18.0264 7.29971 18.3383 8.23355 18.9044C9.16739 19.4706 9.93672 20.2714 10.465 21.2271C10.5877 21.4075 10.7525 21.555 10.9452 21.6571C11.138 21.7591 11.3527 21.8124 11.5708 21.8124C11.7888 21.8124 12.0036 21.7591 12.1963 21.6571C12.389 21.555 12.5538 21.4075 12.6765 21.2271C13.1077 20.4702 13.6877 19.8084 14.3815 19.2817C15.0754 18.7549 15.8687 18.374 16.7136 18.162V30.2143C16.7136 31.0668 16.375 31.8843 15.7722 32.4871C15.1694 33.0899 14.3518 33.4286 13.4993 33.4286C12.6468 33.4286 11.8293 33.0899 11.2265 32.4871C10.6237 31.8843 10.285 31.0668 10.285 30.2143V29.5714H7.71361V30.2143C7.71361 31.7488 8.32317 33.2204 9.4082 34.3054C10.4932 35.3904 11.9649 36 13.4993 36C15.0338 36 16.5054 35.3904 17.5904 34.3054C18.6755 33.2204 19.285 31.7488 19.285 30.2143V18.1607C20.1302 18.373 20.9236 18.7543 21.6175 19.2815C22.3113 19.8088 22.8912 20.471 23.3222 21.2284C23.436 21.4203 23.5978 21.5792 23.7917 21.6896C23.9856 21.8 24.2048 21.858 24.4279 21.858C24.651 21.858 24.8702 21.8 25.0641 21.6896C25.258 21.5792 25.4198 21.4203 25.5336 21.2284C26.0618 20.2724 26.831 19.4714 27.7649 18.905C28.6987 18.3386 29.7646 18.0266 30.8565 18C32.0051 18.0665 33.113 18.4491 34.0579 19.1057C34.2691 19.2312 34.5119 19.2935 34.7575 19.2852C35.003 19.277 35.2411 19.1985 35.4435 19.0592C35.6458 18.9199 35.8041 18.7255 35.8994 18.499C35.9947 18.2726 36.0231 18.0235 35.9813 17.7814H35.98ZM5.14218 15.4286C4.48836 15.4285 3.83781 15.5207 3.20975 15.7024C4.08254 13.2713 5.53111 11.0877 7.43159 9.33838C9.33208 7.58903 11.6279 6.32595 14.1229 5.65714C11.5743 8.94281 10.196 12.9855 10.2066 17.1437C8.74987 16.0365 6.97191 15.4344 5.14218 15.4286ZM17.9993 15.4286C16.1037 15.4373 14.2664 16.0851 12.7845 17.2671C12.832 14.4129 13.5662 8.92286 17.9993 5.46943C22.4093 8.91129 23.1537 14.4051 23.209 17.2633C21.728 16.0837 19.8927 15.4374 17.9993 15.4286ZM30.8565 15.4286C29.0269 15.434 27.2489 16.0357 25.792 17.1424C25.8027 12.9842 24.4243 8.94153 21.8757 5.65586C24.3708 6.32479 26.6668 7.58807 28.5673 9.33765C30.4678 11.0872 31.9163 13.2711 32.7889 15.7024C32.1608 15.5207 31.5103 15.4285 30.8565 15.4286Z" fill="url(#paint0_linear)"/><defs><linearGradient id="paint0_linear" x1="6.14752" y1="6.50858" x2="26.9365" y2="25.9966" gradientUnits="userSpaceOnUse"><stop offset="0.10243" stop-color="#28C2D1"/><stop offset="0.925347" stop-color="#4931DE"/></linearGradient></defs></svg>
            <div class="mt-auto mb-1 text-xl">
                <span class="text-4xl">@WeatherStation.CurrentWeather.RelativeHumidity</span> %
            </div>
            break;
    }
            
    <div class="text-xs">
        From
        <div class="stat-source">@WeatherStation.Name</div>
    </div>
</div>

@code {
    static WeatherStat defaultStat = WeatherStat.Temperature;

    WeatherStat stat = defaultStat;

    [Parameter]
    public WeatherStation WeatherStation { get; set;  }

    protected override void OnInitialized()
    {
        defaultStat = NextStat(defaultStat);
    }

    public void SwitchStat() => stat = NextStat(stat);

    static WeatherStat NextStat(WeatherStat stat)
         => (WeatherStat)(((int) stat + 1) % Enum.GetNames<WeatherStat>().Length);

    enum WeatherStat
    {
        Temperature,
        RelativeHumidity,
        WindSpeed
    }
}